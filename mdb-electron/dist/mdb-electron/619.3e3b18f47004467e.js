"use strict";(self.webpackChunkmdb_electron=self.webpackChunkmdb_electron||[]).push([[619],{9619:(Bt,R,o)=>{o.r(R),o.d(R,{UserModule:()=>xt});var u=o(177),p=o(2791),G=o(7059),N=o(467),y=o(8509),V=o(6573),t=o(4438),k=o(6850),$=o(2835),_=o(1229);let L=(()=>{class s{constructor(){this.src="",this.alt="Avatar",this.size="md",this.border=!1}get classes(){return[`size-${this.size}`,this.border?"border":""]}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["mdb-avatar"]],inputs:{src:"src",alt:"alt",size:"size",border:"border"},decls:2,vars:3,consts:[[1,"avatar-container",3,"ngClass"],[3,"src","alt"]],template:function(a,r){1&a&&(t.j41(0,"div",0),t.nrm(1,"img",1),t.k0s()),2&a&&(t.Y8G("ngClass",r.classes),t.R7$(),t.Y8G("src",r.src||"assets/icons/user.svg",t.B4B)("alt",r.alt))},dependencies:[u.YU],styles:[".avatar-container[_ngcontent-%COMP%]{border-radius:50%;overflow:hidden;display:inline-block;background-color:#333}.avatar-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.avatar-container.size-sm[_ngcontent-%COMP%]{width:32px;height:32px}.avatar-container.size-md[_ngcontent-%COMP%]{width:48px;height:48px}.avatar-container.size-lg[_ngcontent-%COMP%]{width:100px;height:100px}.avatar-container.size-xl[_ngcontent-%COMP%]{width:150px;height:150px}.avatar-container.border[_ngcontent-%COMP%]{border:2px solid #555}"]})}}return s})();var h=o(5596);function z(s,c){if(1&s&&(t.j41(0,"p",28),t.EFF(1),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.SpI(" ",null==e.userProfile?null:e.userProfile.bio," ")}}let Y=(()=>{class s{constructor(e,a,r){this.userDataService=e,this.profileService=a,this.router=r,this.moviesList=[],this.photoUrl="",this.userStats={watched:0,bookmarked:0,reviews:0,favorites:0},this.moviesWatchedList={count:0,data:[]},this.moviesBookmarksList={count:0,data:[]},this.background=void 0}ngOnInit(){this.getUser(),this.getUserData()}ngAfterViewInit(){this.background=this.background?void 0:"primary"}getUser(){this.profileService.getProfile().subscribe(e=>{this.userProfile=e,e&&(this.userStats.watched=e.watchedCount||0,this.userStats.bookmarked=e.bookmarkedCount||0)})}onEditProfile(){this.router.navigate(["/user/edit-profile"])}changePassword(){}changeEmailAddress(){}onSave(){}onReset(){this.userProfile=this.defaultUserProfile}onSignOut(){}countBookmarks(){return(0,N.A)(function*(){})()}uploadFile(e){console.log(e)}exportUserData(){}getUserData(){this.userDataService.getUserDataFirstPage("watched").then(e=>{console.log("getuserdata watched",e),this.moviesWatchedList.count=e.totalResults,this.moviesWatchedList.data=e.results,this.userStats.watched=e.totalResults}),this.userDataService.getUserDataFirstPage("bookmark").then(e=>{console.log("getuserdata bookmark",e),this.moviesBookmarksList.count=e.totalResults,this.moviesBookmarksList.data=e.results,this.userStats.bookmarked=e.totalResults})}static{this.\u0275fac=function(a){return new(a||s)(t.rXU(V.J),t.rXU(y.p),t.rXU(p.Ix))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-profile"]],decls:56,vars:17,consts:[[1,"container","py-5"],[1,"row","mb-5"],[1,"col-md-4","col-lg-3","text-center","d-flex","flex-column","align-items-center"],[1,"mb-3"],["alt","Profile Photo","size","xl",3,"src","border"],[1,"mb-1"],[1,"text-muted","mb-3"],["class","mb-4 text-white-50",4,"ngIf"],[1,"d-flex","gap-2"],["variant","outline",3,"onClick"],["variant","secondary","icon","download",3,"onClick"],[1,"col-md-8","col-lg-9"],[1,"row","g-3","mb-4"],[1,"col-6","col-sm-3"],[1,"text-center","py-3"],[1,"m-0","text-primary"],[1,"text-muted","text-uppercase"],[1,"m-0","text-accent"],[1,"m-0","text-warn"],[1,"m-0","text-white"],["animationDuration","0ms","mat-align-tabs","start",1,"custom-tabs"],["label","WATCHED"],[1,"py-3"],[3,"title","totalCount","moviesList","seeAllLink"],["label","BOOKMARKS"],["label","REVIEWS"],[1,"py-3","text-center","text-muted"],["label","FAVORITES"],[1,"mb-4","text-white-50"]],template:function(a,r){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.nrm(4,"mdb-avatar",4),t.k0s(),t.j41(5,"h2",5),t.EFF(6),t.k0s(),t.j41(7,"p",6),t.EFF(8),t.k0s(),t.DNE(9,z,2,1,"p",7),t.j41(10,"div",8)(11,"mdb-button",9),t.bIt("onClick",function(){return r.onEditProfile()}),t.EFF(12,"Edit Profile"),t.k0s(),t.j41(13,"mdb-button",10),t.bIt("onClick",function(){return r.exportUserData()}),t.EFF(14,"Export Data"),t.k0s()()(),t.j41(15,"div",11)(16,"div",12)(17,"div",13)(18,"mat-card",14)(19,"h3",15),t.EFF(20),t.k0s(),t.j41(21,"small",16),t.EFF(22,"Watched"),t.k0s()()(),t.j41(23,"div",13)(24,"mat-card",14)(25,"h3",17),t.EFF(26),t.k0s(),t.j41(27,"small",16),t.EFF(28,"Bookmarks"),t.k0s()()(),t.j41(29,"div",13)(30,"mat-card",14)(31,"h3",18),t.EFF(32),t.k0s(),t.j41(33,"small",16),t.EFF(34,"Reviews"),t.k0s()()(),t.j41(35,"div",13)(36,"mat-card",14)(37,"h3",19),t.EFF(38),t.k0s(),t.j41(39,"small",16),t.EFF(40,"Favorites"),t.k0s()()()(),t.j41(41,"mat-tab-group",20)(42,"mat-tab",21)(43,"div",22),t.nrm(44,"app-horizontal-card-list",23),t.k0s()(),t.j41(45,"mat-tab",24)(46,"div",22),t.nrm(47,"app-horizontal-card-list",23),t.k0s()(),t.j41(48,"mat-tab",25)(49,"div",26)(50,"p"),t.EFF(51,"No reviews yet."),t.k0s()()(),t.j41(52,"mat-tab",27)(53,"div",26)(54,"p"),t.EFF(55,"No favorites yet."),t.k0s()()()()()()()),2&a&&(t.R7$(4),t.Y8G("src",null==r.userProfile?null:r.userProfile.photoUrl)("border",!0),t.R7$(2),t.JRh((null==r.userProfile?null:r.userProfile.username)||"Username"),t.R7$(2),t.JRh((null==r.userProfile?null:r.userProfile.emailAddress)||"email@example.com"),t.R7$(),t.Y8G("ngIf",null==r.userProfile?null:r.userProfile.bio),t.R7$(11),t.JRh(r.userStats.watched),t.R7$(6),t.JRh(r.userStats.bookmarked),t.R7$(6),t.JRh(r.userStats.reviews),t.R7$(6),t.JRh(r.userStats.favorites),t.R7$(6),t.Y8G("title","Recently Watched")("totalCount",r.moviesWatchedList.count)("moviesList",r.moviesWatchedList.data)("seeAllLink","/watched"),t.R7$(3),t.Y8G("title","Bookmarks")("totalCount",r.moviesBookmarksList.count)("moviesList",r.moviesBookmarksList.data)("seeAllLink","/bookmarks"))},dependencies:[u.bT,k.mq,k.T8,$.c,_.Q,L,h.RN],styles:[".avatar-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px;object-fit:cover;border:4px solid #333;border-radius:50%}"]})}}return s})();var i=o(9417);const E=s=>{const c=s.get("password"),e=s.get("repeatPassword");return c.value&&e.value&&c.value!==e.value?{isRepeatPassword:!0}:null},w=s=>({"is-invalid":s});function X(s,c){1&s&&(t.j41(0,"div"),t.EFF(1,"Email is required"),t.k0s())}function W(s,c){1&s&&(t.j41(0,"div"),t.EFF(1,"Email must be a valid email address"),t.k0s())}function K(s,c){if(1&s&&(t.j41(0,"div",13),t.DNE(1,X,2,0,"div",3)(2,W,2,0,"div",3),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",e.f.email.errors.required),t.R7$(),t.Y8G("ngIf",e.f.email.errors.email)}}function J(s,c){if(1&s){const e=t.RV6();t.j41(0,"div")(1,"h3"),t.EFF(2,"Reset Password"),t.k0s(),t.j41(3,"p"),t.EFF(4,"Enter your email address and we'll send you a link to reset your password."),t.k0s(),t.j41(5,"form",5),t.bIt("ngSubmit",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.onSubmit())}),t.j41(6,"div",6)(7,"label",7),t.EFF(8,"Email Address"),t.k0s(),t.nrm(9,"input",8),t.DNE(10,K,3,2,"div",9),t.k0s(),t.j41(11,"div",10)(12,"button",11),t.EFF(13,"Send Reset Link"),t.k0s(),t.j41(14,"a",12),t.EFF(15,"Back to Sign In"),t.k0s()()()()}if(2&s){const e=t.XpG();t.R7$(5),t.Y8G("formGroup",e.resetPasswordForm),t.R7$(4),t.Y8G("ngClass",t.eq3(3,w,e.submitted&&e.f.email.errors)),t.R7$(),t.Y8G("ngIf",e.submitted&&e.f.email.errors)}}function H(s,c){1&s&&(t.j41(0,"div"),t.EFF(1,"Password is required"),t.k0s())}function Q(s,c){1&s&&(t.j41(0,"div"),t.EFF(1,"Password must be at least 6 characters long"),t.k0s())}function q(s,c){if(1&s&&(t.j41(0,"div",13),t.DNE(1,H,2,0,"div",3)(2,Q,2,0,"div",3),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",e.n.password.errors.required),t.R7$(),t.Y8G("ngIf",e.n.password.errors.minlength)}}function Z(s,c){1&s&&(t.j41(0,"div"),t.EFF(1,"Repeat Password is required"),t.k0s())}function tt(s,c){1&s&&(t.j41(0,"div"),t.EFF(1,"Repeat Password must be at least 6 characters long"),t.k0s())}function et(s,c){if(1&s&&(t.j41(0,"div",13),t.DNE(1,Z,2,0,"div",3)(2,tt,2,0,"div",3),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",e.n.repeatPassword.errors.required),t.R7$(),t.Y8G("ngIf",e.n.repeatPassword.errors.minlength)}}function at(s,c){1&s&&(t.j41(0,"div",20),t.EFF(1," Passwords must match. "),t.k0s())}function st(s,c){if(1&s){const e=t.RV6();t.j41(0,"div")(1,"h3"),t.EFF(2,"Set New Password"),t.k0s(),t.j41(3,"p"),t.EFF(4,"Please enter your new password."),t.k0s(),t.j41(5,"form",5),t.bIt("ngSubmit",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.onNewPasswordSubmit())}),t.j41(6,"div",6)(7,"label",14),t.EFF(8,"New Password"),t.k0s(),t.nrm(9,"input",15),t.DNE(10,q,3,2,"div",9),t.k0s(),t.j41(11,"div",16)(12,"label",17),t.EFF(13,"Repeat Password"),t.k0s(),t.nrm(14,"input",18),t.DNE(15,et,3,2,"div",9),t.k0s(),t.DNE(16,at,2,0,"div",19),t.j41(17,"div",10)(18,"button",11),t.EFF(19,"Change Password"),t.k0s(),t.j41(20,"a",12),t.EFF(21,"Back to Sign In"),t.k0s()()()()}if(2&s){const e=t.XpG();t.R7$(5),t.Y8G("formGroup",e.newPasswordForm),t.R7$(4),t.Y8G("ngClass",t.eq3(6,w,e.submitted&&e.n.password.errors)),t.R7$(),t.Y8G("ngIf",e.submitted&&e.n.password.errors),t.R7$(4),t.Y8G("ngClass",t.eq3(8,w,e.submitted&&e.n.repeatPassword.errors)),t.R7$(),t.Y8G("ngIf",e.submitted&&e.n.repeatPassword.errors),t.R7$(),t.Y8G("ngIf",e.submitted&&(null==e.newPasswordForm.errors?null:e.newPasswordForm.errors.isRepeatPassword))}}let rt=(()=>{class s{constructor(e,a){this.formBuilder=e,this.route=a,this.submitted=!1}ngOnInit(){this.resetPasswordForm=this.formBuilder.group({email:["",[i.k0.required,i.k0.email]]}),this.newPasswordForm=this.formBuilder.group({password:["",[i.k0.required,i.k0.minLength(6)]],repeatPassword:["",[i.k0.required,i.k0.minLength(6)]]},{validators:E}),this.route.queryParams.subscribe(e=>{this.token=e.token})}get f(){return this.resetPasswordForm.controls}get n(){return this.newPasswordForm.controls}onSubmit(){this.submitted=!0,!this.resetPasswordForm.invalid&&console.log("Reset Password Request for:",this.resetPasswordForm.value.email)}onNewPasswordSubmit(){this.submitted=!0,!this.newPasswordForm.invalid&&console.log("Setting new password with token:",this.token)}static{this.\u0275fac=function(a){return new(a||s)(t.rXU(i.ok),t.rXU(p.nX))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-reset-password"]],decls:6,vars:2,consts:[[1,"container-fluid",2,"height","100%"],[1,"row",2,"height","100%"],[1,"col","col-6",2,"height","100%"],[4,"ngIf"],[1,"col","col-6","image-container",2,"height","100%","width","100%","background-image","linear-gradient(to left, rgba(245, 246, 252, 0), rgba(-0, 0, 0, 10.73)), url(./assets/backdrops/gone_with_the_wind-backdrop.jpg)"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"form-group","mt-3"],["type","submit",1,"btn","btn-primary"],["routerLink","/user/signin",1,"btn","btn-link"],[1,"invalid-feedback"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"form-group","mt-2"],["for","repeatPassword"],["type","password","id","repeatPassword","formControlName","repeatPassword",1,"form-control",3,"ngClass"],["class","alert alert-danger mt-2",4,"ngIf"],[1,"alert","alert-danger","mt-2"]],template:function(a,r){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.DNE(3,J,16,5,"div",3)(4,st,22,10,"div",3),t.k0s(),t.nrm(5,"div",4),t.k0s()()),2&a&&(t.R7$(3),t.Y8G("ngIf",!r.token),t.R7$(),t.Y8G("ngIf",r.token))},dependencies:[u.YU,u.bT,p.Wk,i.qT,i.me,i.BC,i.cb,i.j4,i.JD],styles:[".image-container[_ngcontent-%COMP%]{background-size:cover;background-position:center}"]})}}return s})();var nt=o(7673);let it=(()=>{class s{constructor(){}validate(e){return(0,nt.of)(null)}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var ot=o(5551),ct=o(7533);function dt(s,c){1&s&&(t.j41(0,"div",15),t.EFF(1," Passwords do not match. "),t.k0s())}let lt=(()=>{class s{constructor(e,a){this.formBuilder=e,this.usernameExistValidator=a,this.userSignUp={username:"",emailAddress:"",age:0,gender:"",authType:"",password:"",repeatPassword:""},this.generalError=""}ngOnInit(){this.signUpForm=this.formBuilder.group({username:[this.userSignUp.username,[i.k0.required,i.k0.minLength(4)]],emailAddress:[this.userSignUp.emailAddress,[i.k0.required,i.k0.minLength(4),i.k0.email]],password:[this.userSignUp.password,[i.k0.required,i.k0.minLength(6)]],repeatPassword:[this.userSignUp.repeatPassword,[i.k0.required,i.k0.minLength(6)]]},{validators:E})}get username(){return this.signUpForm.get("username")}get emailAddress(){return this.signUpForm.get("emailAddress")}get password(){return this.signUpForm.get("password")}get repeatPassword(){return this.signUpForm.get("repeatPassword")}onSignUp(){if(console.log("submit"),this.signUpForm.valid){const e=this.signUpForm.get("username").value,a=this.signUpForm.get("emailAddress").value;this.signUpForm.get("password"),console.log("Registering user:",{username:e,emailAddress:a})}}static{this.\u0275fac=function(a){return new(a||s)(t.rXU(i.ok),t.rXU(it))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-register"]],decls:18,vars:8,consts:[[1,"register-container"],[1,"background-image"],[1,"background-overlay"],[1,"register-content"],["title","Sign Up","padding","lg",1,"register-card"],[1,"register-form","d-flex","flex-column","gap-3",3,"ngSubmit","formGroup"],["label","Username","formControlName","username","placeholder","Username",3,"error"],["label","Email Address","formControlName","emailAddress","type","email","placeholder","Email Address",3,"error"],["label","Password","formControlName","password","type","password","placeholder","Password",3,"error"],["label","Repeat Password","formControlName","repeatPassword","type","password","placeholder","Repeat Password",3,"error"],["class","text-danger small mb-2",4,"ngIf"],["variant","primary","type","submit","size","lg",3,"fullWidth","disabled"],[1,"register-footer"],[1,"signin-text","text-center"],["routerLink","/user/signin",1,"text-link","highlight"],[1,"text-danger","small","mb-2"]],template:function(a,r){1&a&&(t.j41(0,"div",0),t.nrm(1,"div",1)(2,"div",2),t.j41(3,"div",3)(4,"mdb-card",4)(5,"form",5),t.bIt("ngSubmit",function(){return r.onSignUp()}),t.nrm(6,"mdb-input",6)(7,"mdb-input",7)(8,"mdb-input",8)(9,"mdb-input",9),t.DNE(10,dt,2,0,"div",10),t.j41(11,"mdb-button",11),t.EFF(12," Sign Up "),t.k0s()(),t.j41(13,"div",12)(14,"p",13),t.EFF(15," Already have an account? "),t.j41(16,"a",14),t.EFF(17,"Sign in"),t.k0s()()()()()()),2&a&&(t.R7$(5),t.Y8G("formGroup",r.signUpForm),t.R7$(),t.Y8G("error",r.username.hasError("required")?"Username is required":r.username.hasError("minlength")?"Username must be at least 4 characters":r.username.hasError("usernameUnavailable")?"Username already exists":""),t.R7$(),t.Y8G("error",r.emailAddress.hasError("required")?"Email is required":r.emailAddress.hasError("email")?"Invalid email format":""),t.R7$(),t.Y8G("error",r.password.hasError("required")?"Password is required":r.password.hasError("minlength")?"Password must be at least 6 characters":""),t.R7$(),t.Y8G("error",r.repeatPassword.hasError("required")?"Password is required":""),t.R7$(),t.Y8G("ngIf",(null==r.signUpForm.errors?null:r.signUpForm.errors.isRepeatPassword)&&(r.repeatPassword.dirty||r.repeatPassword.touched)),t.R7$(),t.Y8G("fullWidth",!0)("disabled",!r.signUpForm.valid))},dependencies:[u.bT,p.Wk,i.qT,i.BC,i.cb,i.j4,i.JD,_.Q,ot.S,ct.i],styles:["[_nghost-%COMP%]{display:block;height:100%;width:100%}.register-container[_ngcontent-%COMP%]{position:relative;height:100vh;width:100%;display:flex;align-items:center;justify-content:center;overflow:hidden}.background-image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(gone_with_the_wind-backdrop.a2e512e67725e062.jpg);background-size:cover;background-position:center;z-index:0}.background-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#00000080;background-image:linear-gradient(to top,#000c,#0000 60%,#000c);z-index:1}.register-content[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;max-width:450px;padding:1rem}  .register-card .mat-mdc-card{background-color:#000000bf!important;color:#fff!important;padding:2rem 2.5rem!important;border-radius:4px!important}  .register-card mat-card-title{font-size:2rem;font-weight:700;margin-bottom:1.5rem}.register-footer[_ngcontent-%COMP%]{margin-top:2rem}.register-footer[_ngcontent-%COMP%]   .signin-text[_ngcontent-%COMP%]{color:#737373;font-size:.95rem}.register-footer[_ngcontent-%COMP%]   .text-link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;cursor:pointer}.register-footer[_ngcontent-%COMP%]   .text-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.register-footer[_ngcontent-%COMP%]   .text-link.highlight[_ngcontent-%COMP%]{font-weight:700}.text-danger[_ngcontent-%COMP%]{color:#e50914!important}"]})}}return s})();var x=o(8834),v=o(1413),m=o(9969),f=o(6939),mt=o(6860),ut=o(8617),S=o(9327),P=o(6969),pt=o(6977),A=o(6600);function ht(s,c){if(1&s){const e=t.RV6();t.j41(0,"div",1)(1,"button",2),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.action())}),t.EFF(2),t.k0s()()}if(2&s){const e=t.XpG();t.R7$(2),t.SpI(" ",e.data.action," ")}}const ft=["label"];function gt(s,c){}const vt=Math.pow(2,31)-1;class C{constructor(c,e){this._overlayRef=e,this._afterDismissed=new v.B,this._afterOpened=new v.B,this._onAction=new v.B,this._dismissedByAction=!1,this.containerInstance=c,c._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(c){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(c,vt))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const B=new t.nKC("MatSnackBarData");class b{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let j=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275dir=t.FsC({type:s,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}}return s})(),M=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275dir=t.FsC({type:s,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}}return s})(),D=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275dir=t.FsC({type:s,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}}return s})(),U=(()=>{class s{constructor(e,a){this.snackBarRef=e,this.data=a}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static{this.\u0275fac=function(a){return new(a||s)(t.rXU(C),t.rXU(B))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[t.aNF],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(a,r){1&a&&(t.j41(0,"div",0),t.EFF(1),t.k0s(),t.DNE(2,ht,3,1,"div",1)),2&a&&(t.R7$(),t.SpI(" ",r.data.message,"\n"),t.R7$(),t.vxM(2,r.hasAction?2:-1))},dependencies:[x.$z,j,M,D],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}}return s})();const bt={snackBarState:(0,m.hZ)("state",[(0,m.wk)("void, hidden",(0,m.iF)({transform:"scale(0.8)",opacity:0})),(0,m.wk)("visible",(0,m.iF)({transform:"scale(1)",opacity:1})),(0,m.kY)("* => visible",(0,m.i0)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,m.kY)("* => void, * => hidden",(0,m.i0)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,m.iF)({opacity:0})))])};let kt=0,I=(()=>{class s extends f.lb{constructor(e,a,r,n,d){super(),this._ngZone=e,this._elementRef=a,this._changeDetectorRef=r,this._platform=n,this.snackBarConfig=d,this._document=(0,t.WQX)(u.qQ),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new v.B,this._onExit=new v.B,this._onEnter=new v.B,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+kt++,this.attachDomPortal=l=>{this._assertNotAttached();const g=this._portalOutlet.attachDomPortal(l);return this._afterPortalAttached(),g},this._live="assertive"!==d.politeness||d.announcementMessage?"off"===d.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const a=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),a}attachTemplatePortal(e){this._assertNotAttached();const a=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),a}onAnimationEnd(e){const{fromState:a,toState:r}=e;if(("void"===r&&"void"!==a||"hidden"===r)&&this._completeExit(),"visible"===r){const n=this._onEnter;this._ngZone.run(()=>{n.next(),n.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const e=this._elementRef.nativeElement,a=this.snackBarConfig.panelClass;a&&(Array.isArray(a)?a.forEach(d=>e.classList.add(d)):e.classList.add(a)),this._exposeToModals();const r=this._label.nativeElement,n="mdc-snackbar__label";r.classList.toggle(n,!r.querySelector(`.${n}`))}_exposeToModals(){const e=this._liveElementId,a=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<a.length;r++){const n=a[r],d=n.getAttribute("aria-owns");this._trackedModals.add(n),d?-1===d.indexOf(e)&&n.setAttribute("aria-owns",d+" "+e):n.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const a=e.getAttribute("aria-owns");if(a){const r=a.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),a=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&a){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),a.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static{this.\u0275fac=function(a){return new(a||s)(t.rXU(t.SKi),t.rXU(t.aKT),t.rXU(t.gRc),t.rXU(mt.OD),t.rXU(b))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["mat-snack-bar-container"]],viewQuery:function(a,r){if(1&a&&(t.GBs(f.I3,7),t.GBs(ft,7)),2&a){let n;t.mGM(n=t.lsd())&&(r._portalOutlet=n.first),t.mGM(n=t.lsd())&&(r._label=n.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(a,r){1&a&&t.Kam("@state.done",function(d){return r.onAnimationEnd(d)}),2&a&&t.zvX("@state",r._animationState)},standalone:!0,features:[t.Vt3,t.aNF],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(a,r){1&a&&(t.j41(0,"div",1)(1,"div",2,0)(3,"div",3),t.DNE(4,gt,0,0,"ng-template",4),t.k0s(),t.nrm(5,"div"),t.k0s()()),2&a&&(t.R7$(5),t.BMQ("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[f.I3],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[bt.snackBarState]}})}}return s})();const wt=new t.nKC("mat-snack-bar-default-options",{providedIn:"root",factory:function _t(){return new b}});let T=(()=>{class s{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,a,r,n,d,l){this._overlay=e,this._live=a,this._injector=r,this._breakpointObserver=n,this._parentSnackBar=d,this._defaultConfig=l,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=U,this.snackBarContainerComponent=I,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(e,a){return this._attach(e,a)}openFromTemplate(e,a){return this._attach(e,a)}open(e,a="",r){const n={...this._defaultConfig,...r};return n.data={message:e,action:a},n.announcementMessage===e&&(n.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,n)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,a){const n=t.zZn.create({parent:a&&a.viewContainerRef&&a.viewContainerRef.injector||this._injector,providers:[{provide:b,useValue:a}]}),d=new f.A8(this.snackBarContainerComponent,a.viewContainerRef,n),l=e.attach(d);return l.instance.snackBarConfig=a,l.instance}_attach(e,a){const r={...new b,...this._defaultConfig,...a},n=this._createOverlay(r),d=this._attachSnackBarContainer(n,r),l=new C(d,n);if(e instanceof t.C4Q){const g=new f.VA(e,null,{$implicit:r.data,snackBarRef:l});l.instance=d.attachTemplatePortal(g)}else{const g=this._createInjector(r,l),St=new f.A8(e,void 0,g),At=d.attachComponentPortal(St);l.instance=At.instance}return this._breakpointObserver.observe(S.Rp.HandsetPortrait).pipe((0,pt.Q)(n.detachments())).subscribe(g=>{n.overlayElement.classList.toggle(this.handsetCssClass,g.matches)}),r.announcementMessage&&d._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(l,r),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(e,a){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),a.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),a.duration&&a.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(a.duration))}_createOverlay(e){const a=new P.rR;a.direction=e.direction;let r=this._overlay.position().global();const n="rtl"===e.direction,d="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!n||"end"===e.horizontalPosition&&n,l=!d&&"center"!==e.horizontalPosition;return d?r.left("0"):l?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),a.positionStrategy=r,this._overlay.create(a)}_createInjector(e,a){return t.zZn.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:C,useValue:a},{provide:B,useValue:e.data}]})}static{this.\u0275fac=function(a){return new(a||s)(t.KVO(P.hJ),t.KVO(ut.Ai),t.KVO(t.zZn),t.KVO(S.QP),t.KVO(s,12),t.KVO(wt))}}static{this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),Pt=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({providers:[T],imports:[P.z_,f.jc,x.Hl,A.yE,U,A.yE]})}}return s})();var Ct=o(1997),F=o(2102),O=o(9631);const Rt=[{path:"",redirectTo:"signin",pathMatch:"full"},{path:"signin",component:G.M},{path:"register",component:lt},{path:"reset-password",component:rt},{path:"profile",component:Y},{path:"edit-profile",component:(()=>{class s{constructor(e,a,r,n){this.fb=e,this.profileService=a,this.router=r,this.snackBar=n,this.loading=!1}ngOnInit(){this.profileForm=this.fb.group({username:["",i.k0.required],name:[""],emailAddress:["",[i.k0.required,i.k0.email]],bio:[""],password:[""],confirmPassword:[""]}),this.loadProfile()}loadProfile(){this.loading=!0,this.profileService.getProfile().subscribe(e=>{this.userProfile=e,this.profileForm.patchValue({username:e.username,name:e.name,emailAddress:e.emailAddress,bio:e.bio}),this.loading=!1},e=>{this.loading=!1,console.error("Failed to load profile",e)})}onSubmit(){if(this.profileForm.invalid)return;this.loading=!0;const e=this.profileForm.value,a={username:e.username,name:e.name,emailAddress:e.emailAddress,bio:e.bio};if(e.password){if(e.password!==e.confirmPassword)return this.snackBar.open("Passwords do not match","Close",{duration:3e3}),void(this.loading=!1);a.password=e.password}this.profileService.updateProfile(a).subscribe(()=>{this.loading=!1,this.snackBar.open("Profile updated successfully","Close",{duration:3e3}),this.router.navigate(["/user/profile"])},r=>{this.loading=!1,this.snackBar.open("Failed to update profile","Close",{duration:3e3}),console.error(r)})}onCancel(){this.router.navigate(["/user/profile"])}static{this.\u0275fac=function(a){return new(a||s)(t.rXU(i.ok),t.rXU(y.p),t.rXU(p.Ix),t.rXU(T))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-edit-profile"]],decls:46,vars:3,consts:[[1,"container","py-5"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6"],[1,"pt-4"],[1,"d-flex","flex-column","gap-3",3,"ngSubmit","formGroup"],[1,"d-flex","flex-column","align-items-center","mb-4"],[1,"avatar-placeholder","mb-3"],["alt","Avatar",1,"avatar-img",3,"src"],["variant","outline","size","sm"],["appearance","outline"],["matInput","","formControlName","username","placeholder","Username"],["matInput","","formControlName","name","placeholder","Full Name"],["matInput","","formControlName","emailAddress","placeholder","Email"],["matInput","","formControlName","bio","rows","3","placeholder","Tell us about yourself"],[1,"my-3"],[1,"mat-h4"],["matInput","","type","password","formControlName","password"],["matInput","","type","password","formControlName","confirmPassword"],["align","end",1,"gap-2","pb-3","pe-3"],["variant","outline",3,"onClick"],["variant","primary",3,"onClick","loading"]],template:function(a,r){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card")(4,"mat-card-header")(5,"mat-card-title"),t.EFF(6,"Edit Profile"),t.k0s()(),t.j41(7,"mat-card-content",3)(8,"form",4),t.bIt("ngSubmit",function(){return r.onSubmit()}),t.j41(9,"div",5)(10,"div",6),t.nrm(11,"img",7),t.k0s(),t.j41(12,"mdb-button",8),t.EFF(13,"Change Avatar"),t.k0s()(),t.j41(14,"mat-form-field",9)(15,"mat-label"),t.EFF(16,"Username"),t.k0s(),t.nrm(17,"input",10),t.k0s(),t.j41(18,"mat-form-field",9)(19,"mat-label"),t.EFF(20,"Name"),t.k0s(),t.nrm(21,"input",11),t.k0s(),t.j41(22,"mat-form-field",9)(23,"mat-label"),t.EFF(24,"Email Address"),t.k0s(),t.nrm(25,"input",12),t.k0s(),t.j41(26,"mat-form-field",9)(27,"mat-label"),t.EFF(28,"Bio"),t.k0s(),t.nrm(29,"textarea",13),t.k0s(),t.nrm(30,"mat-divider",14),t.j41(31,"h4",15),t.EFF(32,"Change Password"),t.k0s(),t.j41(33,"mat-form-field",9)(34,"mat-label"),t.EFF(35,"New Password"),t.k0s(),t.nrm(36,"input",16),t.k0s(),t.j41(37,"mat-form-field",9)(38,"mat-label"),t.EFF(39,"Confirm Password"),t.k0s(),t.nrm(40,"input",17),t.k0s()()(),t.j41(41,"mat-card-actions",18)(42,"mdb-button",19),t.bIt("onClick",function(){return r.onCancel()}),t.EFF(43,"Cancel"),t.k0s(),t.j41(44,"mdb-button",20),t.bIt("onClick",function(){return r.onSubmit()}),t.EFF(45,"Save Changes"),t.k0s()()()()()()),2&a&&(t.R7$(8),t.Y8G("formGroup",r.profileForm),t.R7$(3),t.Y8G("src",(null==r.userProfile?null:r.userProfile.photoUrl)||"assets/icons/user.svg",t.B4B),t.R7$(33),t.Y8G("loading",r.loading))},dependencies:[i.qT,i.me,i.BC,i.cb,i.j4,i.JD,Ct.q,_.Q,h.RN,h.YY,h.m2,h.MM,h.dh,F.rl,F.nJ,O.fg],styles:[".avatar-placeholder[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;overflow:hidden;background-color:#333;display:flex;align-items:center;justify-content:center;border:2px solid #555}.avatar-placeholder[_ngcontent-%COMP%]   .avatar-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}"]})}}return s})()}];let yt=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({imports:[p.iI.forChild(Rt),p.iI]})}}return s})();var Et=o(6523);let xt=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({imports:[u.MD,yt,i.YN,i.X1,k.RI,Et.G,h.Hu,F.RG,O.fS,Pt]})}}return s})()}}]);