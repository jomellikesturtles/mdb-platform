import{aN as De,aO as p,aP as we,aQ as Me,aR as e,aS as x,aT as Ce,aU as Se,aV as ke,aW as Oe,aX as Te,aY as Re,aZ as _e,a_ as Le,a$ as te,b0 as Ue,b1 as He,b2 as se,b3 as ae,b4 as ne,b5 as ze,b6 as Ye,b7 as B,b8 as Ie,b9 as Ae,ba as Fe,bb as Ee,bc as We,bd as qe,be as Pe,bf as Qe,bg as Be,bh as Ve}from"./index-BKJzFoDV.js";import{C as Ke}from"./dashboard-4wpbC3Gl.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=De("ArchiveX",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"m9.5 17 5-5",key:"nakeu6"}],["path",{d:"m9.5 12 5 5",key:"1hccrj"}]]),Je=(t=!1)=>{const[s,i]=p.useState(t),d=p.useCallback(()=>i(!0),[]),j=p.useCallback(()=>i(!1),[]),N=p.useCallback(()=>i(v=>!v),[]);return{isOpen:s,open:d,close:j,toggle:N}},Ge=()=>Promise.resolve({data:Me}),Z=()=>({queryKey:["users"],queryFn:Ge}),Xe=({queryConfig:t}={})=>we({...Z(),...t}),re=({className:t,...s})=>e.jsx("nav",{role:"navigation","aria-label":"pagination",className:x("mx-auto flex w-full justify-center",t),...s});re.displayName="Pagination";const ie=p.forwardRef(({className:t,...s},i)=>e.jsx("ul",{ref:i,className:x("flex flex-row items-center gap-1",t),...s}));ie.displayName="PaginationContent";const T=p.forwardRef(({className:t,...s},i)=>e.jsx("li",{ref:i,className:x("",t),...s}));T.displayName="PaginationItem";const Y=({className:t,isActive:s,size:i="icon",children:d,href:j,...N})=>e.jsx(ke,{to:j,"aria-current":s?"page":void 0,className:x(Oe({variant:s?"outline":"ghost",size:i}),t),...N,children:d});Y.displayName="PaginationLink";const oe=({className:t,...s})=>e.jsxs(Y,{"aria-label":"Go to previous page",size:"default",className:x("gap-1 pl-2.5",t),...s,children:[e.jsx(Ce,{className:"size-4"}),e.jsx("span",{children:"Previous"})]});oe.displayName="PaginationPrevious";const le=({className:t,...s})=>e.jsxs(Y,{"aria-label":"Go to next page",size:"default",className:x("gap-1 pr-2.5",t),...s,children:[e.jsx("span",{children:"Next"}),e.jsx(Te,{className:"size-4"})]});le.displayName="PaginationNext";const V=({className:t,...s})=>e.jsxs("span",{"aria-hidden":!0,className:x("flex h-9 w-9 items-center justify-center",t),...s,children:[e.jsx(Se,{className:"size-4"}),e.jsx("span",{className:"sr-only",children:"More pages"})]});V.displayName="PaginationEllipsis";const et=({totalPages:t,currentPage:s,rootUrl:i})=>{const d=j=>`${i}?page=${j}`;return e.jsx(re,{className:"justify-end py-8",children:e.jsxs(ie,{children:[s>1&&e.jsx(T,{children:e.jsx(oe,{href:d(s-1)})}),s>2&&e.jsx(T,{children:e.jsx(V,{})}),s>1&&e.jsx(T,{children:e.jsx(Y,{href:d(s-1),children:s-1})}),e.jsx(T,{className:"rounded-sm bg-gray-200",children:e.jsx(Y,{href:d(s),children:s})}),t>s&&e.jsx(T,{children:e.jsx(Y,{href:d(s+1),children:s+1})}),t>s+1&&e.jsx(T,{children:e.jsx(V,{})}),s<t&&e.jsx(T,{children:e.jsx(le,{href:d(t)})})]})})},ce=p.forwardRef(({className:t,...s},i)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:i,className:x("w-full caption-bottom text-sm",t),...s})}));ce.displayName="Table";const ue=p.forwardRef(({className:t,...s},i)=>e.jsx("thead",{ref:i,className:x("[&_tr]:border-b",t),...s}));ue.displayName="TableHeader";const de=p.forwardRef(({className:t,...s},i)=>e.jsx("tbody",{ref:i,className:x("[&_tr:last-child]:border-0",t),...s}));de.displayName="TableBody";const tt=p.forwardRef(({className:t,...s},i)=>e.jsx("tfoot",{ref:i,className:x("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));tt.displayName="TableFooter";const K=p.forwardRef(({className:t,...s},i)=>e.jsx("tr",{ref:i,className:x("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s}));K.displayName="TableRow";const fe=p.forwardRef(({className:t,...s},i)=>e.jsx("th",{ref:i,className:x("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s}));fe.displayName="TableHead";const he=p.forwardRef(({className:t,...s},i)=>e.jsx("td",{ref:i,className:x("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s}));he.displayName="TableCell";const st=p.forwardRef(({className:t,...s},i)=>e.jsx("caption",{ref:i,className:x("mt-4 text-sm text-muted-foreground",t),...s}));st.displayName="TableCaption";const at=({data:t,columns:s,pagination:i})=>t!=null&&t.length?e.jsxs(e.Fragment,{children:[e.jsxs(ce,{children:[e.jsx(ue,{children:e.jsx(K,{children:s.map((d,j)=>e.jsx(fe,{children:d.title},d.title+j))})}),e.jsx(de,{children:t.map((d,j)=>e.jsx(K,{children:s.map(({Cell:N,field:v,title:D},C)=>e.jsx(he,{children:N?e.jsx(N,{entry:d}):`${d[v]}`},D+C))},(d==null?void 0:d.id)||j))})]}),i&&e.jsx(et,{...i})]}):e.jsxs("div",{className:"flex h-80 flex-col items-center justify-center bg-white text-gray-500",children:[e.jsx(Ze,{className:"size-16"}),e.jsx("h4",{children:"No Entries Found"})]}),nt=Re,rt=_e,it=Le,me=p.forwardRef(({className:t,...s},i)=>e.jsx(ae,{ref:i,className:x("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));me.displayName=ae.displayName;const xe=p.forwardRef(({className:t,children:s,...i},d)=>e.jsxs(it,{children:[e.jsx(me,{}),e.jsxs(te,{ref:d,className:x("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...i,children:[s,e.jsxs(Ue,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(He,{className:"size-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xe.displayName=te.displayName;const pe=({className:t,...s})=>e.jsx("div",{className:x("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});pe.displayName="DialogHeader";const ge=({className:t,...s})=>e.jsx("div",{className:x("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});ge.displayName="DialogFooter";const ye=p.forwardRef(({className:t,...s},i)=>e.jsx(se,{ref:i,className:x("text-lg font-semibold leading-none tracking-tight",t),...s}));ye.displayName=se.displayName;const ot=p.forwardRef(({className:t,...s},i)=>e.jsx(ne,{ref:i,className:x("text-sm text-muted-foreground",t),...s}));ot.displayName=ne.displayName;const lt=({triggerButton:t,confirmButton:s,title:i,body:d="",cancelButtonText:j="Cancel",icon:N="danger",isDone:v=!1})=>{const{close:D,open:C,isOpen:S}=Je(),U=p.useRef(null);return p.useEffect(()=>{v&&D()},[v,D]),e.jsxs(nt,{open:S,onOpenChange:w=>{w?C():D()},children:[e.jsx(rt,{asChild:!0,children:t}),e.jsxs(xe,{className:"sm:max-w-[425px]",children:[e.jsx(pe,{className:"flex",children:e.jsxs(ye,{className:"flex items-center gap-2",children:[" ",N==="danger"&&e.jsx(ze,{className:"size-6 text-red-600","aria-hidden":"true"}),N==="info"&&e.jsx(Ye,{className:"size-6 text-blue-600","aria-hidden":"true"}),i]})}),e.jsx("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:d&&e.jsx("div",{className:"mt-2",children:e.jsx("p",{children:d})})}),e.jsxs(ge,{children:[s,e.jsx(B,{ref:U,variant:"outline",onClick:D,children:j})]})]})]})},ct=({userId:t})=>Fe.delete(`/users/${t}`),ut=({mutationConfig:t}={})=>{const s=Ie(),{onSuccess:i,...d}=t||{};return Ae({onSuccess:(...j)=>{s.invalidateQueries({queryKey:Z().queryKey}),i==null||i(...j)},...d,mutationFn:ct})},dt=({id:t})=>{Ee();const{addNotification:s}=We(),i=ut({mutationConfig:{onSuccess:()=>{s({type:"success",title:"User Deleted"})}}});return e.jsx(lt,{icon:"danger",title:"Delete User",body:"Are you sure you want to delete this user?",triggerButton:e.jsx(B,{children:"Delete"}),confirmButton:e.jsx(B,{isLoading:i.isPending,type:"button",variant:"destructive",onClick:()=>i.mutate({userId:t}),children:"Delete User"})})};var je={exports:{}};(function(t,s){(function(i,d){t.exports=d()})(Pe,function(){var i=1e3,d=6e4,j=36e5,N="millisecond",v="second",D="minute",C="hour",S="day",U="week",w="month",J="quarter",k="year",H="date",G="Invalid Date",be=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,$e=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Ne={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(l){var r=["th","st","nd","rd"],a=l%100;return"["+l+(r[(a-20)%10]||r[a]||r[0])+"]"}},P=function(l,r,a){var o=String(l);return!o||o.length>=r?l:""+Array(r+1-o.length).join(a)+l},ve={s:P,z:function(l){var r=-l.utcOffset(),a=Math.abs(r),o=Math.floor(a/60),n=a%60;return(r<=0?"+":"-")+P(o,2,"0")+":"+P(n,2,"0")},m:function l(r,a){if(r.date()<a.date())return-l(a,r);var o=12*(a.year()-r.year())+(a.month()-r.month()),n=r.clone().add(o,w),c=a-n<0,u=r.clone().add(o+(c?-1:1),w);return+(-(o+(a-n)/(c?n-u:u-n))||0)},a:function(l){return l<0?Math.ceil(l)||0:Math.floor(l)},p:function(l){return{M:w,y:k,w:U,d:S,D:H,h:C,m:D,s:v,ms:N,Q:J}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(l){return l===void 0}},I="en",R={};R[I]=Ne;var X="$isDayjsObject",Q=function(l){return l instanceof W||!(!l||!l[X])},E=function l(r,a,o){var n;if(!r)return I;if(typeof r=="string"){var c=r.toLowerCase();R[c]&&(n=c),a&&(R[c]=a,n=c);var u=r.split("-");if(!n&&u.length>1)return l(u[0])}else{var h=r.name;R[h]=r,n=h}return!o&&n&&(I=n),n||!o&&I},g=function(l,r){if(Q(l))return l.clone();var a=typeof r=="object"?r:{};return a.date=l,a.args=arguments,new W(a)},f=ve;f.l=E,f.i=Q,f.w=function(l,r){return g(l,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})};var W=function(){function l(a){this.$L=E(a.locale,null,!0),this.parse(a),this.$x=this.$x||a.x||{},this[X]=!0}var r=l.prototype;return r.parse=function(a){this.$d=function(o){var n=o.date,c=o.utc;if(n===null)return new Date(NaN);if(f.u(n))return new Date;if(n instanceof Date)return new Date(n);if(typeof n=="string"&&!/Z$/i.test(n)){var u=n.match(be);if(u){var h=u[2]-1||0,m=(u[7]||"0").substring(0,3);return c?new Date(Date.UTC(u[1],h,u[3]||1,u[4]||0,u[5]||0,u[6]||0,m)):new Date(u[1],h,u[3]||1,u[4]||0,u[5]||0,u[6]||0,m)}}return new Date(n)}(a),this.init()},r.init=function(){var a=this.$d;this.$y=a.getFullYear(),this.$M=a.getMonth(),this.$D=a.getDate(),this.$W=a.getDay(),this.$H=a.getHours(),this.$m=a.getMinutes(),this.$s=a.getSeconds(),this.$ms=a.getMilliseconds()},r.$utils=function(){return f},r.isValid=function(){return this.$d.toString()!==G},r.isSame=function(a,o){var n=g(a);return this.startOf(o)<=n&&n<=this.endOf(o)},r.isAfter=function(a,o){return g(a)<this.startOf(o)},r.isBefore=function(a,o){return this.endOf(o)<g(a)},r.$g=function(a,o,n){return f.u(a)?this[o]:this.set(n,a)},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this.$d.getTime()},r.startOf=function(a,o){var n=this,c=!!f.u(o)||o,u=f.p(a),h=function(L,$){var O=f.w(n.$u?Date.UTC(n.$y,$,L):new Date(n.$y,$,L),n);return c?O:O.endOf(S)},m=function(L,$){return f.w(n.toDate()[L].apply(n.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice($)),n)},y=this.$W,b=this.$M,M=this.$D,z="set"+(this.$u?"UTC":"");switch(u){case k:return c?h(1,0):h(31,11);case w:return c?h(1,b):h(0,b+1);case U:var _=this.$locale().weekStart||0,A=(y<_?y+7:y)-_;return h(c?M-A:M+(6-A),b);case S:case H:return m(z+"Hours",0);case C:return m(z+"Minutes",1);case D:return m(z+"Seconds",2);case v:return m(z+"Milliseconds",3);default:return this.clone()}},r.endOf=function(a){return this.startOf(a,!1)},r.$set=function(a,o){var n,c=f.p(a),u="set"+(this.$u?"UTC":""),h=(n={},n[S]=u+"Date",n[H]=u+"Date",n[w]=u+"Month",n[k]=u+"FullYear",n[C]=u+"Hours",n[D]=u+"Minutes",n[v]=u+"Seconds",n[N]=u+"Milliseconds",n)[c],m=c===S?this.$D+(o-this.$W):o;if(c===w||c===k){var y=this.clone().set(H,1);y.$d[h](m),y.init(),this.$d=y.set(H,Math.min(this.$D,y.daysInMonth())).$d}else h&&this.$d[h](m);return this.init(),this},r.set=function(a,o){return this.clone().$set(a,o)},r.get=function(a){return this[f.p(a)]()},r.add=function(a,o){var n,c=this;a=Number(a);var u=f.p(o),h=function(b){var M=g(c);return f.w(M.date(M.date()+Math.round(b*a)),c)};if(u===w)return this.set(w,this.$M+a);if(u===k)return this.set(k,this.$y+a);if(u===S)return h(1);if(u===U)return h(7);var m=(n={},n[D]=d,n[C]=j,n[v]=i,n)[u]||1,y=this.$d.getTime()+a*m;return f.w(y,this)},r.subtract=function(a,o){return this.add(-1*a,o)},r.format=function(a){var o=this,n=this.$locale();if(!this.isValid())return n.invalidDate||G;var c=a||"YYYY-MM-DDTHH:mm:ssZ",u=f.z(this),h=this.$H,m=this.$m,y=this.$M,b=n.weekdays,M=n.months,z=n.meridiem,_=function($,O,F,q){return $&&($[O]||$(o,c))||F[O].slice(0,q)},A=function($){return f.s(h%12||12,$,"0")},L=z||function($,O,F){var q=$<12?"AM":"PM";return F?q.toLowerCase():q};return c.replace($e,function($,O){return O||function(F){switch(F){case"YY":return String(o.$y).slice(-2);case"YYYY":return f.s(o.$y,4,"0");case"M":return y+1;case"MM":return f.s(y+1,2,"0");case"MMM":return _(n.monthsShort,y,M,3);case"MMMM":return _(M,y);case"D":return o.$D;case"DD":return f.s(o.$D,2,"0");case"d":return String(o.$W);case"dd":return _(n.weekdaysMin,o.$W,b,2);case"ddd":return _(n.weekdaysShort,o.$W,b,3);case"dddd":return b[o.$W];case"H":return String(h);case"HH":return f.s(h,2,"0");case"h":return A(1);case"hh":return A(2);case"a":return L(h,m,!0);case"A":return L(h,m,!1);case"m":return String(m);case"mm":return f.s(m,2,"0");case"s":return String(o.$s);case"ss":return f.s(o.$s,2,"0");case"SSS":return f.s(o.$ms,3,"0");case"Z":return u}return null}($)||u.replace(":","")})},r.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},r.diff=function(a,o,n){var c,u=this,h=f.p(o),m=g(a),y=(m.utcOffset()-this.utcOffset())*d,b=this-m,M=function(){return f.m(u,m)};switch(h){case k:c=M()/12;break;case w:c=M();break;case J:c=M()/3;break;case U:c=(b-y)/6048e5;break;case S:c=(b-y)/864e5;break;case C:c=b/j;break;case D:c=b/d;break;case v:c=b/i;break;default:c=b}return n?c:f.a(c)},r.daysInMonth=function(){return this.endOf(w).$D},r.$locale=function(){return R[this.$L]},r.locale=function(a,o){if(!a)return this.$L;var n=this.clone(),c=E(a,o,!0);return c&&(n.$L=c),n},r.clone=function(){return f.w(this.$d,this)},r.toDate=function(){return new Date(this.valueOf())},r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toISOString=function(){return this.$d.toISOString()},r.toString=function(){return this.$d.toUTCString()},l}(),ee=W.prototype;return g.prototype=ee,[["$ms",N],["$s",v],["$m",D],["$H",C],["$W",S],["$M",w],["$y",k],["$D",H]].forEach(function(l){ee[l[1]]=function(r){return this.$g(r,l[0],l[1])}}),g.extend=function(l,r){return l.$i||(l(r,W,g),l.$i=!0),g},g.locale=E,g.isDayjs=Q,g.unix=function(l){return g(1e3*l)},g.en=R[I],g.Ls=R,g.p={},g})})(je);var ft=je.exports;const ht=qe(ft),mt=t=>ht(t).format("MMM D, YYYY h:mm A"),xt=()=>{var i;const t=Xe();if(t.isLoading)return e.jsx("div",{className:"flex h-48 w-full items-center justify-center",children:e.jsx(Qe,{size:"lg"})});const s=((i=t.data)==null?void 0:i.data)??t.data;return s?e.jsx(at,{data:s,columns:[{title:"First Name",field:"firstName"},{title:"Last Name",field:"lastName"},{title:"Email",field:"email"},{title:"Role",field:"role"},{title:"Created At",field:"createAt",Cell({entry:{createdAt:d}}){return e.jsx("span",{children:mt(d)})}},{title:"",field:"id",Cell({entry:{id:d}}){return e.jsx(dt,{id:d})}}]}):null},yt=t=>async()=>{const s=Z();return t.getQueryData(s.queryKey)},jt=()=>e.jsx(Ke,{title:"Users",children:e.jsx(Be,{forbiddenFallback:e.jsx("div",{children:"Only admin can view this."}),allowedRoles:[Ve.ADMIN],children:e.jsx(xt,{})})});export{yt as clientLoader,jt as default};
